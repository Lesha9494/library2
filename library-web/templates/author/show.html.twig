{% extends 'base.html.twig' %}

{% block title %}
	{{ author.fullName }}
{% endblock %}

{% block body %}
	<div class="container">
		<div class="author-header">
			<h1>{{ author.fullName }}</h1>
			<div class="actions">
				<a href="{{ path('app_author_edit', {'id': author.id}) }}" class="btn-edit">Изменить</a>
				{{ include('author/_delete_form.html.twig') }}
			</div>
		</div>

		<div class="author-info">
			<div class="info-row">
				<span class="label">Страна:</span>
				<span class="value">{{ author.country }}</span>
			</div>

			<div class="info-row">
				<span class="label">Количество книг:</span>
				<span class="value">{{ author.books|length }}</span>
			</div>

			{% if author.biography %}
				<div class="info-row">
					<span class="label">Биография:</span>
					<div class="value biography">
						{{ author.biography|nl2br }}
					</div>
				</div>
			{% endif %}
		</div>

		{% if author.books|length > 0 %}
			<div class="books-section">
				<h2>Книги автора ({{ author.books|length }})</h2>
				<div class="books-list">
					{% for book in author.books %}
						<div class="book-card">
							<h3>{{ book.title }}</h3>
							<div class="book-details">
								<span>ISBN:
									<code>{{ book.isbn }}</code>
								</span>
								<span>Год:
									{{ book.year }}</span>
								<span>Экз.:
									{{ book.copies }}</span>
							</div>
							<a href="{{ path('app_book_show', {'id': book.id}) }}" class="btn-view">Подробнее</a>
						</div>
					{% endfor %}
				</div>
			</div>
		{% endif %}

		<div style="margin-top: 30px;">
			<a href="{{ path('app_author_index') }}" class="back-link">Назад к списку авторов</a>
		</div>
	</div>

	<style>
		.container {
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
		}

		.author-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 30px;
			border-bottom: 2px solid #eee;
			padding-bottom: 15px;
		}

		h1 {
			color: #333;
			margin: 0;
		}

		.actions {
			display: flex;
			gap: 10px;
		}

		.btn-edit {
			background: #FF9800;
			color: white;
			padding: 8px 15px;
			border-radius: 4px;
			text-decoration: none;
		}

		.btn-edit:hover {
			background: #F57C00;
		}

		.btn-delete {
			background: #f44336;
			color: white;
			padding: 8px 15px;
			border: none;
			border-radius: 4px;
			cursor: pointer;
		}

		.btn-delete:hover {
			background: #d32f2f;
		}

		.author-info {
			background: #f9f9f9;
			padding: 20px;
			border-radius: 5px;
			margin-bottom: 30px;
		}

		.info-row {
			display: flex;
			margin-bottom: 15px;
			padding-bottom: 15px;
			border-bottom: 1px solid #eee;
		}

		.info-row:last-child {
			border-bottom: none;
			margin-bottom: 0;
		}

		.label {
			width: 150px;
			font-weight: bold;
			color: #555;
		}

		.value {
			flex: 1;
		}

		.biography {
			line-height: 1.6;
			color: #333;
		}

		.books-section {
			margin-top: 30px;
		}

		.books-section h2 {
			margin-bottom: 15px;
			color: #333;
		}

		.books-list {
			display: grid;
			gap: 15px;
		}

		.book-card {
			background: white;
			padding: 15px;
			border: 1px solid #ddd;
			border-radius: 5px;
		}

		.book-card h3 {
			margin: 0 0 10px;
			color: #2196F3;
		}

		.book-details {
			display: flex;
			gap: 15px;
			margin-bottom: 10px;
			color: #666;
			font-size: 14px;
		}

		.book-card .btn-view {
			display: inline-block;
			background: #4CAF50;
			color: white;
			padding: 5px 10px;
			border-radius: 3px;
			text-decoration: none;
			font-size: 14px;
		}

		.book-card .btn-view:hover {
			background: #45a049;
		}

		.back-link {
			color: #2196F3;
			text-decoration: none;
		}

		.back-link:hover {
			text-decoration: underline;
		}
	</style>
{% endblock %}
