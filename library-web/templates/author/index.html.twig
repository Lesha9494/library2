{% extends 'base.html.twig' %}

{% block title %}Авторы
{% endblock %}

{% block body %}
	<div class="container">
		<div class="header">
			<h1>Авторы</h1>
			<a href="{{ path('app_author_new') }}" class="btn-new">+ Новый автор</a>
		</div>

		{% if authors|length > 0 %}
			<table class="author-table">
				<thead>
					<tr>
						<th>ID</th>
						<th>ФИО</th>
						<th>Страна</th>
						<th>Книг</th>
						<th>Действия</th>
					</tr>
				</thead>
				<tbody>
					{% for author in authors %}
						<tr>
							<td>{{ author.id }}</td>
							<td>{{ author.fullName }}</td>
							<td>{{ author.country }}</td>
							<td>{{ author.books|length }}</td>
							<td class="actions">
								<a href="{{ path('app_author_show', {'id': author.id}) }}" class="btn-view">Просмотр</a>
								<a href="{{ path('app_author_edit', {'id': author.id}) }}" class="btn-edit">Изменить</a>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		{% else %}
			<div class="empty-state">
				<p>Авторов не найдено</p>
				<a href="{{ path('app_author_new') }}" class="btn-new">Добавить первого автора</a>
			</div>
		{% endif %}
	</div>

	<style>
		.container {
			padding: 20px;
		}

		.header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 20px;
		}

		h1 {
			color: #333;
		}

		.btn-new {
			background: #2196F3;
			color: white;
			padding: 10px 15px;
			border-radius: 4px;
			text-decoration: none;
		}

		.btn-new:hover {
			background: #1976D2;
		}

		.author-table {
			width: 100%;
			border-collapse: collapse;
			background: white;
		}

		.author-table th {
			background: #f5f5f5;
			padding: 12px;
			text-align: left;
			border-bottom: 2px solid #ddd;
			font-weight: bold;
		}

		.author-table td {
			padding: 10px;
			border-bottom: 1px solid #eee;
		}

		.author-table tr:hover {
			background: #f9f9f9;
		}

		.actions {
			display: flex;
			gap: 5px;
		}

		.btn-view,
		.btn-edit {
			padding: 5px 10px;
			border-radius: 3px;
			text-decoration: none;
			font-size: 14px;
		}

		.btn-view {
			background: #4CAF50;
			color: white;
		}

		.btn-view:hover {
			background: #45a049;
		}

		.btn-edit {
			background: #FF9800;
			color: white;
		}

		.btn-edit:hover {
			background: #F57C00;
		}

		.empty-state {
			text-align: center;
			padding: 40px;
			background: white;
			border-radius: 5px;
			margin-top: 20px;
		}

		.empty-state p {
			margin-bottom: 20px;
			color: #666;
		}
	</style>
{% endblock %}
