{% extends 'base.html.twig' %}

{% block title %}Вход
{% endblock %}

{% block body %}
	<div class="login-page">
		<div class="login-form">
			<h2>Вход в библиотеку</h2>

			{% if error %}
				<div class="error">
					{{ error.messageKey|trans(error.messageData, 'security') }}
				</div>
			{% endif %}

			{% if app.user %}
				<p>Вы уже вошли как
					{{ app.user.userIdentifier }}</p>
				<a href="{{ path('app_logout') }}">Выйти</a>
			{% endif %}

			<form method="post">
				<div class="input-group">
					<label>Email:</label>
					<input type="email" name="email" value="{{ last_username }}" required>
				</div>

				<div class="input-group">
					<label>Пароль:</label>
					<input type="password" name="password" required>
				</div>

				<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

				<div class="checkbox-group">
					<input type="checkbox" name="_remember_me" id="remember">
					<label for="remember">Запомнить меня</label>
				</div>

				<button type="submit">Войти</button>
			</form>
		</div>
	</div>

	<style>
		.login-page {
			width: 100%;
			max-width: 300px;
			margin: 50px auto;
			padding: 20px;
		}

		.login-form {
			background: white;
			padding: 20px;
			border: 1px solid #ccc;
			border-radius: 5px;
		}

		.login-form h2 {
			text-align: center;
			margin-bottom: 20px;
			color: #333;
		}

		.input-group {
			margin-bottom: 15px;
		}

		.input-group label {
			display: block;
			margin-bottom: 5px;
			font-weight: bold;
		}

		.input-group input {
			width: 100%;
			padding: 8px;
			border: 1px solid #ddd;
			border-radius: 3px;
			box-sizing: border-box;
		}

		.checkbox-group {
			margin: 15px 0;
			display: flex;
			align-items: center;
		}

		.checkbox-group input {
			margin-right: 8px;
		}

		button {
			width: 100%;
			padding: 10px;
			background: #007bff;
			color: white;
			border: none;
			border-radius: 3px;
			cursor: pointer;
			font-size: 16px;
		}

		button:hover {
			background: #0056b3;
		}

		.error {
			background: #ffdddd;
			color: #d8000c;
			padding: 10px;
			border-radius: 3px;
			margin-bottom: 15px;
			border: 1px solid #ffb3b3;
		}

		a {
			color: #007bff;
			text-decoration: none;
		}

		a:hover {
			text-decoration: underline;
		}
	</style>
{% endblock %}
