{% extends 'base.html.twig' %}

{% block title %}Список книг
{% endblock %}

{% block body %}
	<div class="container">
		<div class="header">
			<h1>Список книг</h1>
			<a href="{{ path('app_book_new') }}" class="btn-new">+ Новая книга</a>
		</div>

		<table class="book-table">
			<thead>
				<tr>
					<th>ID</th>
					<th>Название</th>
					<th>ISBN</th>
					<th>Год</th>
					<th>Экз.</th>
					<th>Автор</th>
					<th>Действия</th>
				</tr>
			</thead>
			<tbody>
				{% for book in books %}
					<tr>
						<td>{{ book.id }}</td>
						<td>{{ book.title }}</td>
						<td>
							<code>{{ book.isbn }}</code>
						</td>
						<td>{{ book.year }}</td>
						<td>{{ book.copies }}</td>
						<td>
							{% if book.author %}
								{{ book.author.fullName }}
							{% else %}
								-
							{% endif %}
						</td>
						<td class="actions">
							<a href="{{ path('app_book_show', {'id': book.id}) }}" class="btn-view">Просмотр</a>
							<a href="{{ path('app_book_edit', {'id': book.id}) }}" class="btn-edit">Изменить</a>
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="7" style="text-align: center; padding: 20px;">
							Книг не найдено
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>

	<style>
		.container {
			padding: 20px;
		}

		.header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 20px;
		}

		h1 {
			color: #333;
		}

		.btn-new {
			background: #2196F3;
			color: white;
			padding: 10px 15px;
			border-radius: 4px;
			text-decoration: none;
		}

		.btn-new:hover {
			background: #1976D2;
		}

		.book-table {
			width: 100%;
			border-collapse: collapse;
			background: white;
		}

		.book-table th {
			background: #f5f5f5;
			padding: 12px;
			text-align: left;
			border-bottom: 2px solid #ddd;
			font-weight: bold;
		}

		.book-table td {
			padding: 10px;
			border-bottom: 1px solid #eee;
		}

		.book-table tr:hover {
			background: #f9f9f9;
		}

		.actions {
			display: flex;
			gap: 5px;
		}

		.btn-view,
		.btn-edit {
			padding: 5px 10px;
			border-radius: 3px;
			text-decoration: none;
			font-size: 14px;
		}

		.btn-view {
			background: #4CAF50;
			color: white;
		}

		.btn-view:hover {
			background: #45a049;
		}

		.btn-edit {
			background: #FF9800;
			color: white;
		}

		.btn-edit:hover {
			background: #F57C00;
		}
	</style>
{% endblock %}
